!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports["phaser3-transitions"]=e(require("phaser")):t["phaser3-transitions"]=e(t.phaser)}(window,function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){(function(e){var n="[object AsyncFunction]",o="[object Function]",r="[object GeneratorFunction]",i="[object Null]",s="[object Proxy]",a="[object Undefined]",f="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=f||u||Function("return this")(),l=Object.prototype,p=l.hasOwnProperty,d=l.toString,h=c.Symbol,g=h?h.toStringTag:void 0;function x(t){return null==t?void 0===t?a:i:g&&g in Object(t)?function(t){var e=p.call(t,g),n=t[g];try{t[g]=void 0;var o=!0}catch(t){}var r=d.call(t);o&&(e?t[g]=n:delete t[g]);return r}(t):function(t){return d.call(t)}(t)}t.exports=function(t){if(!function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}(t))return!1;var e=x(t);return e==o||e==r||e==n||e==s}}).call(this,n(2))},function(e,n){e.exports=t},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(0),s=n.n(i);var a=function(t,e){if(0===e)return t;let n=t*e,o=Math.floor(Math.random()*Math.floor(n));return t+(Math.random()<.5?-1:1)*o};var f=function(t,e,n){var o=n.props.map(()=>t.tweens.createTimeline());e.forEach((t,e)=>{let r=s()(n.from)?n.from(t,e):n.from,i=s()(n.to)?n.to(t,e):n.to;for(let e=0;e<n.props.length;e++){let s=void 0!=n.fuzz&&n.fuzz.props.includes(n.props[e])?n.fuzz.ratio:0,f={targets:t,ease:n.ease,duration:a(n.duration,s),offset:n.offset};f[n.props[e]]=i[e],t[n.props[e]]=r[e],o[e].add(f)}});let r=[];return o.forEach(t=>{r.push(new Promise((e,n)=>{t.on("complete",()=>{e()})})),t.play()}),Promise.all(r)};var u=class{constructor(t){this.scene=t.scene,this._targets=t.targets||[],this._defaults=t.defaults||{},this._config=Object.assign({},t.defaults||{},t.config||{}),this._enterConfig=t.enterConfig,this._exitConfig=t.exitConfig,this._affectedProps=t.affectedProps||[],this._cachedProps=this._cacheProps(this._targets,this._affectedProps),this.isTransitioning=!1}setConfig(t={}){this._config=Object.assign({},this._defaults,this._config,t)}enter(t){if(!this.isTransitioning){this.isTransitioning=!0,null!=t&&this.setConfig(t),this.resetProps();var e=this._enterConfig(this.scene,this._config);return f(this.scene,this._targets,e).then(()=>{this.isTransitioning=!1})}}exit(t){if(!this.isTransitioning){this.isTransitioning=!0,null!=t&&this.setConfig(t);var e=this._exitConfig(this.scene,this._config);return f(this.scene,this._targets,e).then(()=>{this.isTransitioning=!1})}}_cacheProps(t,e){let n=[];return t.forEach(t=>{let o={};e.forEach(e=>{o[e]=t[e]}),n.push(o)}),n}resetProps(){let t=this._targets,e=this._cachedProps;t.forEach((t,n)=>{for(let o in e[n])t[o]=e[n][o]})}};class c extends u{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:c.Defaults,affectedProps:c.AffectedProps,enterConfig:c.EnterConfig,exitConfig:c.ExitConfig})}}c.AffectedProps=["alpha"],c.Defaults={chain:!1,fuzz:0,offset:null,duration:500},c.EnterConfig=function(t,e){let n=e.offest||"-=".concat(.8*e.duration);null==e.fuzz||e.fuzz;return{props:["alpha"],ease:"Quad.easeOut",from:[0],to:function(t){return[t.alpha]},duration:e.duration,offset:e.chain?n:0}},c.ExitConfig=function(t,e){let n=e.offest||"-=".concat(.8*e.duration);null==e.fuzz||e.fuzz;return{props:["alpha"],ease:"Quad.easeIn",from:function(t){return[t.alpha]},to:[0],duration:e.duration,offset:e.chain?n:0}};var l=c;var p=function(t,e,n){switch(n){case"left":return-e.displayWidth*e.originX;case"right":return t.sys.game.config.width+e.displayWidth*e.originX;case"top":return-e.displayHeight*e.originY;case"bottom":return t.sys.game.config.height+e.displayHeight*e.originX}};class d extends u{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:d.Defaults,affectedProps:d.AffectedProps,enterConfig:d.EnterConfig,exitConfig:d.ExitConfig})}}d.AffectedProps=["x","y"],d.Defaults={chain:!0,offset:null,duration:500,enterFrom:"left",exitTo:"right"},d.EnterConfig=function(t,e){let n="top"==e.enterFrom||"bottom"==e.enterFrom?"y":"x",o=null!=e.offest?e.offest:"-=".concat(.8*e.duration);return{fuzz:null==e.fuzz?null:{ratio:e.fuzz,props:n},offset:e.chain?o:0,duration:e.duration,props:[n],ease:"Quad.easeOut",from:n=>[p(t,n,e.enterFrom)],to:(t,e)=>[t[n]]}},d.ExitConfig=function(t,e){let n="top"==e.exitTo||"bottom"==e.exitTo?"y":"x",o=null!=e.offest?e.offest:"-=".concat(.75*e.duration);return{fuzz:null==e.fuzz?null:{ratio:e.fuzz,props:n},offset:e.chain?o:0,duration:e.duration,props:[n],ease:"Quad.easeIn",from:(t,e)=>[t[n]],to:n=>[p(t,n,e.exitTo)]}};var h=d;class g extends u{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:g.Defaults,affectedProps:g.AffectedProps,enterConfig:g.EnterConfig,exitConfig:g.ExitConfig})}}g.AffectedProps=["scaleX","scaleY"],g.Defaults={chain:!1,offset:"-=300",fuzz:0,duration:500},g.EnterConfig=function(t,e){return{fuzz:{ratio:e.fuzz,props:["scaleX","scaleY"]},offset:e.chain?e.offset:0,duration:e.duration,ease:"Quad.easeOut",props:["scaleX","scaleY"],from:[0,0],to:function(t){return[t.scaleX,t.scaleY]}}},g.ExitConfig=function(t,e){return{fuzz:{ratio:e.fuzz,props:["scaleX","scaleY"]},offset:e.chain?e.offset:0,duration:e.duration,ease:"Quad.easeIn",props:["scaleX","scaleY"],from:function(t){return[t.scaleX,t.scaleY]},to:[0,0]}};var x=g;class z extends u{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:z.Defaults,affectedProps:z.AffectedProps,enterConfig:z.EnterConfig,exitConfig:z.ExitConfig})}}z.AffectedProps=["alpha","scaleX","scaleY","x","y"],z.Defaults={chain:!1,fuzz:0,offset:null,duration:500},z.EnterConfig=function(t,e){let n=t.sys.game.config.width/2,o=t.sys.game.config.height/2,r=null!=e.offest?e.offest:"-=".concat(.8*e.duration);return{fuzz:null==e.fuzz?null:{ratio:e.fuzz,props:["alpha","x","y"]},offset:e.chain?r:0,duration:e.duration,ease:"Quad.easeOut",props:["alpha","scaleX","scaleY","x","y"],from:[0,0,0,n,o],to:function(t){return[t.alpha,t.scaleX,t.scaleY,t.x,t.y]}}},z.ExitConfig=function(t,e){let n=t.sys.game.config.width/2,o=t.sys.game.config.height/2,r=null!=e.offest?e.offest:"-=".concat(.8*e.duration);return{fuzz:null==e.fuzz?null:{ratio:e.fuzz,props:["alpha","x","y"]},offset:e.chain?r:0,duration:e.duration,ease:"Quad.easeIn",props:["alpha","scaleX","scaleY","x","y"],from:function(t){return[t.alpha,t.scaleX,t.scaleY,t.x,t.y]},to:[0,0,0,n,o]}};var y=z;class m extends u{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:m.Defaults,affectedProps:m.AffectedProps,enterConfig:m.EnterConfig,exitConfig:m.ExitConfig})}}function C(t,e,n){switch(n){case"left":return e.getCenter().x-e.width;case"right":return e.getCenter().x+e.width;case"top":return e.getCenter().y-e.height;case"bottom":return e.getCenter().y+e.height}}m.AffectedProps=["alpha","x","y"],m.Defaults={enterFrom:"bottom",exitTo:"top",chain:!1,fuzz:0,offset:null,duration:500},m.EnterConfig=function(t,e){let n="top"==e.enterFrom||"bottom"==e.enterFrom?"y":"x",o=e.offest||"-=".concat(.8*e.duration),r=null==e.fuzz?null:{ratio:e.fuzz,props:["alpha","x","y"]};return{props:["alpha",n],ease:"Quad.easeOut",duration:e.duration,offset:e.chain?o:0,fuzz:r,from:n=>{return[0,C(t,n,e.enterFrom)]},to:function(t){return[t.alpha,t[n]]}}},m.ExitConfig=function(t,e){let n="top"==e.exitTo||"bottom"==e.exitTo?"y":"x",o=e.offest||"-=".concat(.8*e.duration),r=null==e.fuzz?null:{ratio:e.fuzz,props:["alpha","x","y"]};return{props:["alpha",n],ease:"Quad.easeOut",duration:e.duration,offset:e.chain?o:0,fuzz:r,from:t=>[t.alpha,t[n]],to:function(n){return[0,C(t,n,e.exitTo)]}}};var b=m;const P={fade:l,slide:h,grow:x,explode:y,slidefade:b};var v=class extends r.a.Plugins.ScenePlugin{constructor(t,e){super(t,e),this.scene=t}register(t,e){P[t]=e}create(t,e){return new(0,P[e.type.toLowerCase()])(this.scene,t,e)}enter(t,e){return new(0,P[e.type.toLowerCase()])(this.scene,t,e).enter()}exit(t,e){return new(0,P[e.type.toLowerCase()])(this.scene,t,e).exit()}};n.d(e,"TransitionsPlugin",function(){return v}),n.d(e,"BaseTransition",function(){return u}),n.d(e,"ExplodeTransition",function(){return y}),n.d(e,"FadeTransition",function(){return l}),n.d(e,"GrowTransition",function(){return x}),n.d(e,"SlideTransition",function(){return h}),n.d(e,"SlideFadeTransition",function(){return b})}])});