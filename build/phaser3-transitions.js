!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("phaser")):"function"==typeof define&&define.amd?define(["phaser"],e):"object"==typeof exports?exports["phaser3-transitions"]=e(require("phaser")):t["phaser3-transitions"]=e(t.phaser)}(window,function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o);var i=function(t){return t&&"[object Function]"==={}.toString.call(t)};var a=function(t,e){if(0===e)return t;let n=t*e,o=Math.floor(Math.random()*Math.floor(n));return t+(Math.random()<.5?-1:1)*o};var s=function(t,e,n){var o=n.props.map(()=>t.tweens.createTimeline());e.forEach((t,e)=>{let r=i(n.from)?n.from(t,e):n.from,s=i(n.to)?n.to(t,e):n.to;for(let e=0;e<n.props.length;e++){let i=void 0!=n.fuzz&&n.fuzz.props.includes(n.props[e])?n.fuzz.ratio:0,f={targets:t,ease:n.ease,duration:a(n.duration,i),offset:n.offset};f[n.props[e]]=s[e],t[n.props[e]]=r[e],o[e].add(f)}});let r=[];return o.forEach(t=>{r.push(new Promise((e,n)=>{t.on("complete",()=>{e()})})),t.play()}),Promise.all(r)};var f=class{constructor(t){this.scene=t.scene,this._targets=t.targets||[],this._defaults=t.defaults||{},this._config=Object.assign({},t.defaults||{},t.config||{}),this._enterConfig=t.enterConfig,this._exitConfig=t.exitConfig,this._affectedProps=t.affectedProps||[],this._cachedProps=this._cacheProps(this._targets,this._affectedProps),this.isTransitioning=!1}setConfig(t={}){this._config=Object.assign({},this._defaults,this._config,t)}resetProps(){let t=this._targets,e=this._cachedProps;t.forEach((t,n)=>{for(let o in e[n])t[o]=e[n][o]})}enter(t){if(!this.isTransitioning){this.isTransitioning=!0,null!=t&&this.setConfig(t),this.resetProps();var e=this._enterConfig(this.scene,this._config);return s(this.scene,this._targets,e).then(()=>{this.isTransitioning=!1})}}exit(t){if(!this.isTransitioning){this.isTransitioning=!0,null!=t&&this.setConfig(t);var e=this._exitConfig(this.scene,this._config);return s(this.scene,this._targets,e).then(()=>{this.isTransitioning=!1})}}_cacheProps(t,e){let n=[];return t.forEach(t=>{let o={};e.forEach(e=>{o[e]=t[e]}),n.push(o)}),n}};class u extends f{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:u.Defaults,affectedProps:u.AffectedProps,enterConfig:u.EnterConfig,exitConfig:u.ExitConfig})}}u.AffectedProps=["alpha"],u.Defaults={chain:!1,fuzz:0,offset:null,duration:500},u.EnterConfig=function(t,e){let n=e.offest||"-=".concat(.8*e.duration);null==e.fuzz||e.fuzz;return{props:["alpha"],ease:"Quad.easeOut",from:[0],to:function(t){return[t.alpha]},duration:e.duration,offset:e.chain?n:0}},u.ExitConfig=function(t,e){let n=e.offest||"-=".concat(.8*e.duration);null==e.fuzz||e.fuzz;return{props:["alpha"],ease:"Quad.easeIn",from:function(t){return[t.alpha]},to:[0],duration:e.duration,offset:e.chain?n:0}};var c=u;var l=function(t,e,n){switch(n){case"left":return-e.displayWidth*e.originX;case"right":return t.sys.game.config.width+e.displayWidth*e.originX;case"top":return-e.displayHeight*e.originY;case"bottom":return t.sys.game.config.height+e.displayHeight*e.originX}};class p extends f{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:p.Defaults,affectedProps:p.AffectedProps,enterConfig:p.EnterConfig,exitConfig:p.ExitConfig})}}p.AffectedProps=["x","y"],p.Defaults={chain:!0,offset:null,duration:500,enterFrom:"left",exitTo:"right"},p.EnterConfig=function(t,e){let n="top"==e.enterFrom||"bottom"==e.enterFrom?"y":"x",o=null!=e.offest?e.offest:"-=".concat(.8*e.duration);return{fuzz:null==e.fuzz?null:{ratio:e.fuzz,props:n},offset:e.chain?o:0,duration:e.duration,props:[n],ease:"Quad.easeOut",from:n=>[l(t,n,e.enterFrom)],to:(t,e)=>[t[n]]}},p.ExitConfig=function(t,e){let n="top"==e.exitTo||"bottom"==e.exitTo?"y":"x",o=null!=e.offest?e.offest:"-=".concat(.75*e.duration);return{fuzz:null==e.fuzz?null:{ratio:e.fuzz,props:n},offset:e.chain?o:0,duration:e.duration,props:[n],ease:"Quad.easeIn",from:(t,e)=>[t[n]],to:n=>[l(t,n,e.exitTo)]}};var d=p;class h extends f{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:h.Defaults,affectedProps:h.AffectedProps,enterConfig:h.EnterConfig,exitConfig:h.ExitConfig})}}h.AffectedProps=["scaleX","scaleY"],h.Defaults={chain:!1,offset:"-=300",fuzz:0,duration:500},h.EnterConfig=function(t,e){return{fuzz:{ratio:e.fuzz,props:["scaleX","scaleY"]},offset:e.chain?e.offset:0,duration:e.duration,ease:"Quad.easeOut",props:["scaleX","scaleY"],from:[0,0],to:function(t){return[t.scaleX,t.scaleY]}}},h.ExitConfig=function(t,e){return{fuzz:{ratio:e.fuzz,props:["scaleX","scaleY"]},offset:e.chain?e.offset:0,duration:e.duration,ease:"Quad.easeIn",props:["scaleX","scaleY"],from:function(t){return[t.scaleX,t.scaleY]},to:[0,0]}};var g=h;class z extends f{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:z.Defaults,affectedProps:z.AffectedProps,enterConfig:z.EnterConfig,exitConfig:z.ExitConfig})}}z.AffectedProps=["alpha","scaleX","scaleY","x","y"],z.Defaults={chain:!1,fuzz:0,offset:null,duration:500},z.EnterConfig=function(t,e){let n=t.sys.game.config.width/2,o=t.sys.game.config.height/2,r=null!=e.offest?e.offest:"-=".concat(.8*e.duration);return{fuzz:null==e.fuzz?null:{ratio:e.fuzz,props:["alpha","x","y"]},offset:e.chain?r:0,duration:e.duration,ease:"Quad.easeOut",props:["alpha","scaleX","scaleY","x","y"],from:[0,0,0,n,o],to:function(t){return[t.alpha,t.scaleX,t.scaleY,t.x,t.y]}}},z.ExitConfig=function(t,e){let n=t.sys.game.config.width/2,o=t.sys.game.config.height/2,r=null!=e.offest?e.offest:"-=".concat(.8*e.duration);return{fuzz:null==e.fuzz?null:{ratio:e.fuzz,props:["alpha","x","y"]},offset:e.chain?r:0,duration:e.duration,ease:"Quad.easeIn",props:["alpha","scaleX","scaleY","x","y"],from:function(t){return[t.alpha,t.scaleX,t.scaleY,t.x,t.y]},to:[0,0,0,n,o]}};var x=z;class m extends f{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:m.Defaults,affectedProps:m.AffectedProps,enterConfig:m.EnterConfig,exitConfig:m.ExitConfig})}}function C(t,e,n,o){switch(n){case"left":return e.getCenter().x-(o||e.width);case"right":return e.getCenter().x+(o||e.width);case"top":return e.getCenter().y-(o||e.height);case"bottom":return e.getCenter().y+(o||e.height)}}m.AffectedProps=["alpha","x","y"],m.Defaults={enterFrom:"bottom",exitTo:"top",chain:!1,fuzz:0,offset:null,duration:500,distance:null},m.EnterConfig=function(t,e){let n="top"==e.enterFrom||"bottom"==e.enterFrom?"y":"x",o=e.offest||"-=".concat(.8*e.duration),r=null==e.fuzz?null:{ratio:e.fuzz,props:["alpha","x","y"]};return{props:["alpha",n],ease:"Quad.easeOut",duration:e.duration,offset:e.chain?o:0,fuzz:r,from:n=>{return[0,C(t,n,e.enterFrom,e.distance)]},to:function(t){return[t.alpha,t[n]]}}},m.ExitConfig=function(t,e){let n="top"==e.exitTo||"bottom"==e.exitTo?"y":"x",o=e.offest||"-=".concat(.8*e.duration),r=null==e.fuzz?null:{ratio:e.fuzz,props:["alpha","x","y"]};return{props:["alpha",n],ease:"Quad.easeOut",duration:e.duration,offset:e.chain?o:0,fuzz:r,from:t=>[t.alpha,t[n]],to:function(n){return[0,C(t,n,e.exitTo,e.distance)]}}};var y=m;class P extends f{constructor(t,e,n={}){super({scene:t,targets:e,config:n,defaults:P.Defaults,affectedProps:P.AffectedProps,enterConfig:P.EnterConfig,exitConfig:P.ExitConfig})}}P.AffectedProps=["alphaBottomLeft","alphaBottomRight","alphaTopLeft","alphaTopRight"],P.Defaults={chain:!1,fuzz:.75,offset:null,duration:500},P.EnterConfig=function(t,e){let n=e.offest||"-=".concat(.8*e.duration);null==e.fuzz||e.fuzz;return{props:["alphaBottomLeft","alphaBottomRight","alphaTopLeft","alphaTopRight"],ease:"Quad.easeOut",from:[0,0,0,0],to:function(t){return[t.alphaBottomLeft,t.alphaBottomRight,t.alphaTopLeft,t.alphaTopRight]},duration:e.duration,offset:e.chain?n:0}},P.ExitConfig=function(t,e){let n=e.offest||"-=".concat(.8*e.duration);null==e.fuzz||e.fuzz;return{props:["alphaBottomLeft","alphaBottomRight","alphaTopLeft","alphaTopRight"],ease:"Quad.easeIn",from:function(t){return[t.alphaBottomLeft,t.alphaBottomRight,t.alphaTopLeft,t.alphaTopRight]},to:[0,0,0,0],duration:e.duration,offset:e.chain?n:0}};const T={fade:c,slide:d,grow:g,explode:x,slidefade:y,fadeslide:y,materialize:P};var E=class extends r.a.Plugins.ScenePlugin{constructor(t,e){super(t,e),this.scene=t}register(t,e){T[t]=e}create(t,e){return new(0,T[e.type.toLowerCase()])(this.scene,t,e)}enter(t,e){return new(0,T[e.type.toLowerCase()])(this.scene,t,e).enter()}exit(t,e){return new(0,T[e.type.toLowerCase()])(this.scene,t,e).exit()}};n.d(e,"TransitionsPlugin",function(){return E}),n.d(e,"BaseTransition",function(){return f}),n.d(e,"ExplodeTransition",function(){return x}),n.d(e,"FadeTransition",function(){return c}),n.d(e,"GrowTransition",function(){return g}),n.d(e,"SlideTransition",function(){return d}),n.d(e,"SlideFadeTransition",function(){return y}),n.d(e,"MaterializeTransition",function(){return y})}])});